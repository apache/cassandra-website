<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Apache Cassandra | Cassandra Case Study</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,400&family=Red+Hat+Display:ital,wght@0,400;0,500;0,700;1,400;1,500&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="/style.css">
		<script src="/init.js"></script>
		<script async defer data-domain="cassandra.apache.org" src="https://plausible.cassandra.apache.org/js/plausible.js"></script>
	</head>
	<body>
		<div class="container mx-auto">
			<div id="mobile-nav-overlay" class="hide">
				<div class="mobile-nav flex flex-column text-center">
					<a class="mobile-nav-link" href="/cassandra-basics/">Cassandra Basics</a>
					<a class="mobile-nav-link" href="/quickstart/">Quickstart</a>
					<a class="mobile-nav-link" href="/ecosystem/">Ecosystem</a>
					<a class="mobile-nav-link" href="https://cassandra.apache.org/doc/latest/">Documentation</a>
					<a class="mobile-nav-link" href="/community/">Community</a>
					<a class="mobile-nav-link" href="/case-studies/">Case Studies</a>
					<a class="mobile-nav-link" href="/resources/">Resources</a>
					<a class="mobile-nav-link" href="/blog/">Blog</a>
					<a class="mobile-nav-link" href="/download/">Download</a>
				</div>
			</div>
			<header class="grad">
				<div class="eye"></div>
				<div id="top-nav" class="inner flex flex-vert-center flex-space-between relative">
					<div class="logo"><a href="/"><img src="/img/logo-white.svg" alt=""></a></div>
					<div class="mobile-nav-icon">
						<img class="toggle-icon" src="/img/hamburger-nav.svg">
					</div>
					
					<ul class="nav-links flex flex-vert-center flex-space-between">
						<li>
							<a class="nav-link">Get Started</a>
							<ul class="sub-menu bg-white">
								<li class="pa-micro">
									<a href="/cassandra-basics/">
										<div class="sub-nav-icon">
											<img src="/img/sub-menu-basics.png" alt="cassandra basics icon">
										</div>
										<div class="sub-nav-text teal py-small">
											Cassandra Basics
										</div>
									</a>
								</li>
								<li class="pa-micro">
									<a href="/quickstart/">
										<div class="sub-nav-icon">
											<img src="/img/sub-menu-rocket.png" alt="cassandra basics icon">
										</div>
										<div class="sub-nav-text teal py-small">
											Quickstart
										</div>
									</a>
								</li>
								<li class="pa-micro">
									<a href="/ecosystem/">
										<div class="sub-nav-icon">
											<img src="/img/sub-menu-ecosystem.png" alt="cassandra basics icon">
										</div>
										<div class="sub-nav-text teal py-small">
											Ecosystem
										</div>
									</a>
								</li>
							</ul>
						</li>
						<li><a class="nav-link" href="https://cassandra.apache.org/doc/latest/">Documentation</a></li>
						<li>
							<a class="nav-link" href="/community/">Community</a>
							<ul class="sub-menu bg-white">
								<li class="pa-micro">
									<a href="/community/#code-of-conduct">
										<div class="sub-nav-icon">
											<img src="/img/sub-menu-welcome.png" alt="welcome icon">
										</div>
										<div class="sub-nav-text teal py-small">
											Welcome
										</div>
									</a>
								</li>
								<li class="pa-micro">
									<a href="/community/#discussion">
										<div class="sub-nav-icon">
											<img src="/img/sub-menu-discussions.png" alt="discussions icon">
										</div>
										<div class="sub-nav-text teal py-small">
											Discussions
										</div>
									</a>
								</li>
								<li class="pa-micro">
									<a href="/community/#project-governance">
										<div class="sub-nav-icon">
											<img src="/img/sub-menu-governance.png" alt="Governance icon">
										</div>
										<div class="sub-nav-text teal py-small">
											Governance
										</div>
									</a>
								</li>
								<li class="pa-micro">
									<a href="/community/#how-to-contribute">
										<div class="sub-nav-icon">
											<img src="/img/sub-menu-contribute.png" alt="Contribute icon">
										</div>
										<div class="sub-nav-text teal py-small">
											Contribute
										</div>
									</a>
								</li>
								<li class="pa-micro">
									<a href="/community/#meet-the-community">
										<div class="sub-nav-icon">
											<img src="/img/sub-menu-community.png" alt="Meet the Community icon">
										</div>
										<div class="sub-nav-text teal py-small">
											Meet the Community
										</div>
									</a>
								</li>
							</ul>
						</li>
						<li>
							<a class="nav-link">Learn</a>
							<ul class="sub-menu bg-white">
								<li class="pa-micro">
									<a href="/case-studies/">
										<div class="sub-nav-icon">
											<img src="/img/sub-menu-case-study.png" alt="Case Studies icon">
										</div>
										<div class="sub-nav-text teal py-small">
											Case Studies
										</div>
									</a>
								</li>
								<li class="pa-micro">
									<a href="/resources/">
										<div class="sub-nav-icon">
											<img src="/img/sub-menu-resources.png" alt="Resources icon">
										</div>
										<div class="sub-nav-text teal py-small">
											Resources
										</div>
									</a>
								</li>
								<li class="pa-micro">
									<a href="/blog/">
										<div class="sub-nav-icon">
											<img src="/img/sub-menu-blog.png" alt="Blog icon">
										</div>
										<div class="sub-nav-text teal py-small">
											Blog
										</div>
									</a>
								</li>
							</ul>
						</li>
						<li><a class="nav-link btn btn--filled" href="/download/">Download Now</a></li>
					</ul>
					
				</div>
				<div class="text-center flex flex-center flex-column relative z2 ma-xlarge">
					<img src="/img/companies/backblaze.png">
					<h1 class="ma-large">Backblaze</h1>
				</div>
			</header>
			
			<section id="about-cassandra" class="flex-center py-large arrow">
				<div class="inner">
					<h2 class="text-center py-medium pb-large">Backblaze Delivers IaaS with Apache Cassandra</h2>
					<p class="pb-medium">Founded in 2007, Backblaze, based in San Mateo, CA, is a cloud storage company with more than an exabyte of data under management and customers in over 175 countries.</p> 

					<p>The Backblaze Storage Cloud provides a foundation for businesses, developers, IT professionals, and individuals to store, backup, archive data, and, in partnership with other leading technology companies, host content, manage media, build their applications, and more.</p>

					<p>The company started life as a computer backup company run from a one-bedroom apartment with a clear mission to make storing and using data astonishingly easy. Backblaze was a popular backup service in niches such as photography and genealogy in its early days. Its focus on keeping backup simple and easy to use has broadened its appeal over time.</p> 

					<p>Since 2013, Backblaze has regularly published hard drive performance statistics and insights -- the only player in the market to do so. This transparency resonated with existing and prospective users and led to a following among developers and IT professionals that wanted to perform more complicated tasks beyond what Backblaze currently offered. With its Backblaze Computer Backup product firmly established, the company decided to develop Backblaze B2 Cloud Storage, a cloud storage platform providing infrastructure as a service (Iaas).</p> 

					<p>This IaaS would provide direct API access and enable developers and IT people to store in the cloud, retrieve and/or share data and scale up and down while only paying for what they used. Essentially, Backblaze B2 offers cloud storage similar to Amazon S3, Microsoft Azure Storage, and Google Cloud Storage that is easy to use, affordable, and trusted.</p>

					<p>However, the existing Computer Backup stack wasn’t suitable for this new use case. It was a custom store, where the company controlled the client as well. “The Computer Backup index was very custom to how the Computer Backup system worked, so we had to start from scratch with Backblaze B2 and create a different system,” says Elliott Sims, Senior Systems Administrator at Backblaze.</p> 

					<p>It was at this point that Backblaze investigated distributed databases, and Apache Cassandra was introduced.</p>
					<div class="cf py-large">
						<h3 class="mb-medium text-center">Testimonial quote</h3>
						<div>
							<p>
								<blockquote>“We needed something that would handle really high write throughput and keep scaling on the write throughput. That forced us to look at distributed stores, and Apache Cassandra was the option that fitted what we needed.”
							Elliott Sims, Senior Systems Administrator, Backblaze</blockquote></p>

							<p>For the launch of Backblaze B2 in 2015, the company adopted Ansible for software provisioning, configuration management, and application deployment and paired it with Apache Cassandra for its data needs, applying templates and Reaper for handling repairs. In selecting Apache Cassandra, there were several vital benefits that made it the preferred choice for the new cloud solution:</p>
					<div class="cf py-large">
						<h3 class="mb-medium text-center">Scalable and elastic performance that delivers</h3>
						<div>
							<p>Backblaze needed to see an increase in write throughput as it added more hosts. “If you need just read throughput, traditional MySQL replication works great as you can keep stamping out replicas, but we needed write throughput as well. Cassandra was able to do that out of the box as opposed to using layering or our own sharding on top of MySQL,” says Sims. Backblaze has also found the write throughput and scaling with Cassandra have been very nearly linear. “30 machines does mean having three times the capacity of 10 machines with Apache Cassandra, or, you know, 2.95 times.”</p>
					<div class="cf py-large">
						<h3 class="mb-medium text-center">Durability that withstands a data center going down</h3>
						<div>							
							<p>While write throughput was a key concern, Backblaze needed some standard database requirements as well: “When we put a piece of data in, it needed to stay there if the machine crashes. It can’t just lose a chunk of data, like some of the NoSQL databases are prone to do. It had to write it to disk and not be a cache that periodically snapshots, for instance,” says Sims.</p>
					<div class="cf py-large">
						<h3 class="mb-medium text-center">Fault tolerance without downtimes</h3>
						<div>
							<p>Like any company that values the sleep of its database operators, Backblaze wanted the ability to lose a machine overnight, “we didn’t want to have to page someone to scramble and fix it. We needed a solution that would withstand and ignore any single machine going offline.” As Apache Cassandra is decentralized and all data is automatically replicated to multiple nodes, there is no single point of failure.</p>
						</div>
					</div>
					<div class="cf py-large">
						<h3 class="mb-medium text-center">The benefits of Apache Cassandra 4.0 for Backblaze</h3>
						<div>
							<p>Jumping to 4.0 is not an immediate consideration for Backblaze, “The way we use Apache Cassandra is as an authoritative source of truth for where user files are as opposed to analytics, and so on, so we are a little wary,” says Sims. But there are a number of features that Backblaze is excited about exploiting, and they anticipate a move with the release of 4.0.1 or later.</p>
						</div>
					</div>
					<div class="cf py-large">
						<div>
							<h3 class="mb-medium text-center">Incremental repairs to eliminate a tombstone issue</h3>
							<p>“The biggest one is incremental backups in conjunction with the leveled compaction strategy,” says Sims. Backblaze uses several small tables where tombstones (deleted data that hasn’t been purged from the disk) have been a problem. With SizeTieredCompactionStrategy (STCS), you can set Cassandra only to compact away tombstones that have been repaired. “This means you can set a really short gc_grace_seconds, which means the tombstones are cleaned up a lot more frequently on a small table that you might use [...] They are a very small percentage of the total, so if we can run Incremental Repair on them multiple times a day those tombstones would be very short-lived - ten hours instead of ten days. It will essentially eliminate the problem.”</p>
						</div>
					</div>
					<div class="cf py-large">
						<div>
							<h3 class="mb-medium text-center">Easier data migrations with token distribution change</h3>
							<p>When performing a data center migration, Cassandra 4.0 will enable users to distribute tokens based on replication level instead of schema, which eliminates the chicken and egg dependency “Being able to distribute tokens based on specific schema is nice for balance,” says Sims. “But the new method cuts out a finicky process of manually assigning tokens for the new data center […] that will make my life easier for the remaining data center migrations and reduce the vnode count.”</p>
						</div>
					</div>
					<div class="cf py-large">
						<h3 class="mb-medium text-center">Kubernetes for Cassandra</h3>
						<div>
							<p>While Backblaze has a test environment for Kubernetes running right now, but Sims says they are moving more to the environment as Backblaze adds miscellaneous services to Backblaze B2. “I think we’ll end up moving to Kubernetes for Cassandra eventually, but at the moment we’re using bare metal controlled by Ansible [...] Reaper has been easy to manage for the most part, and as we bring more clusters online, we’ll get more interested in the Reaper component of the cass-operator.”</p>

							<p>While Sims says Apache Cassandra has various complexities and pain points, he sees it as delivering on its promises for Backblaze: “The promises of scalable write throughputs and the resiliency -- where it keeps your data when it says it will -- have been kept with Apache Cassandra. These are important things, and [...] keeping your data is unfortunately not something I can say for some of the other new storage systems.”</p>
						</div>
					</div>
					<div class="cf py-large">
						<h3 class="mb-medium text-center">About Backblaze</h3>
						<div>
							<p>Backblaze makes managing data astonishingly easy for businesses and consumers. The Backblaze Storage Cloud provides a foundational platform for a broad community of developers, IT generalists, entrepreneurs, and individuals who seek easy, affordable, trusted solutions. With more than an exabyte of data under management, the company currently works with customers in over 175 countries. Founded in 2007, the company is based in San Mateo, CA. For more information, please go to <a href="http://www.backblaze.com/">www.backblaze.com</a>.</p>
						</div>
					</div>
				</div>
			</section>
			<footer class="grad grad--two flex-center pb-xlarge">
				<div class="inner text-center z2 relative">
					<h2 class="white py-small">Get started with Cassandra, fast.</h2>
					<a href="/quickstart/" class="btn btn--filled ma-medium">Quickstart Guide</a>
				</div>
				<div class="inner flex flex-distribute-items mt-xlarge z2 relative">
					<div class="col-2">
						<div class="logo mb-medium"><img src="/img/logo-white.svg" alt=""></div>
						<p>Apache Cassandra powers mission-critical deployments with improved performance and unparalleled levels of scale in the cloud.</p>
					</div>
					<div class="col-2 flex flex-center">
						<ul class="columns-2">
							<li class="mb-small"><a href="/">Home</a></li>
							<li class="mb-small"><a href="/cassandra-basics/">Cassandra Basics</a></li>
							<li class="mb-small"><a href="/quickstart/">Quickstart</a></li>
							<li class="mb-small"><a href="/ecosystem/">Ecosystem</a></li>
							<li class="mb-small"><a href="https://cassandra.apache.org/doc/latest/">Documentation</a></li>
							<li class="mb-small"><a href="/community/">Community</a></li>
							<li class="mb-small"><a href="/case-studies/">Case Studies</a></li>
							<li class="mb-small"><a href="/resources/">Resources</a></li>
							<li class="mb-small"><a href="/blog/">Blog</a></li>
							
						</ul>
					</div>
				</div>
			</footer>
			<div class="lower-footer bg-white pa-medium">
				<div class="flex flex-row flex-vert-center">
					<div class="pr-medium"><img src="../img/feather-small.png" alt="ASF" width="20"></div>
					<div class="pr-medium"><a href="http://www.apache.org/" target="_blank">Foundation</a></div>
					<div class="pr-medium"><a href="https://www.apache.org/events/current-event.html" target="_blank">Events</a></div>
					<div class="pr-medium"><a href="https://www.apache.org/licenses/" target="_blank">License</a></div>
					<div class="pr-medium"><a href="https://www.apache.org/foundation/thanks" target="_blank">Thanks</a></div>
					<div class="pr-medium"><a href="https://www.apache.org/security" target="_blank">Security</a></div>
					<div class="pr-medium"><a href="https://www.apache.org/foundation/sponsorship" target="_blank">Sponsorship</a></div>
				</div>
				<p class="my-medium">&copy; <script>document.write(new Date().getFullYear())</script> <a href="https://apache.org" target="_blank">The Apache Software Foundation</a> under the terms of the Apache License 2.0. Apache, the Apache feather logo, and Apache Cassandra are trademarks of The Apache Software Foundation.</p>
			</div>
		</div>
		<div id="fade" class="hidden"></div>
			<div id="modal" class="modal hidden">
				<div id="close-modal" class="cursor-pointer"><svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div>
				<div id="mod-content" class="vid-mod-content resp-container">
			</div>
		</div>
	</body>
</html>
